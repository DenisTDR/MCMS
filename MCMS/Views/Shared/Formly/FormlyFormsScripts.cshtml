@using MCMS.SwaggerFormly.FormParamsHelpers
@using MCMS.Base.Helpers
@using MCMS.Base.Extensions

@if (!Env.GetBool("FORMLY_DEBUG"))
{
    var basePath = Env.Get("FORMLY_SCRIPTS_PATH") is {} path && !string.IsNullOrEmpty(path) ? path : "~";

    @using (Html.BeginMPageScripts())
    {
        <script>
            var openApiConfigUrl = '@FormParamsService.GetOpenApiConfigUrl(Url)'
        </script>
        <link rel="stylesheet" href="@basePath/mcms-form/styles.css" asp-append-version="true"/>
        <script src="@basePath/mcms-form/mcms-form.polyfills.js" defer asp-append-version="true"></script>
        <script src="@basePath/mcms-form/mcms-form.main.js" defer asp-append-version="true"></script>
    }
}