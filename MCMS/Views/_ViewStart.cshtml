@{
    if (Context.Items.ContainsKey("ForcedLayout") && !string.IsNullOrEmpty(Context.Items["ForcedLayout"] as string))
    {
        Layout = Context.Items["ForcedLayout"] as string;
    }
    else
    {
        if (Context.Request.Headers.TryGetValue("X-Request-Modal", out var value) && value.ToString().ToLower() == "true")
        {
            Layout = "_ModalLayout";
        }
        else
        {
            Layout = "_Layout";
        }
    }
}